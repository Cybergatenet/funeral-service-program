<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code PDF Download</title>
    <link rel="stylesheet" href="scanner.css">
    <!-- Include QR Code scanner library -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“„ QR Code PDF Download</h1>
            <p>Scan a QR code to download your PDF file</p>
        </header>

        <main>
            <div class="app-container">
                <div class="scanner-section">
                    <h2>ðŸ“± Scan QR Code</h2>
                    <div id="qr-reader" style="width: 100%; max-width: 500px; margin: 0 auto;"></div>
                    <div class="scanner-controls">
                        <button id="start-scanner" class="btn btn-primary">
                            Start Scanner
                        </button>
                        <button id="stop-scanner" class="btn btn-secondary" disabled>
                            Stop Scanner
                        </button>
                        <button id="switch-camera" class="btn btn-info">
                            Switch Camera
                        </button>
                    </div>
                </div>

                <div class="result-section">
                    <h2>ðŸ“„ File Information</h2>
                    <div id="result-container">
                        <div class="placeholder">
                            <p>Scan a QR code to see file details here</p>
                        </div>
                        <div id="file-info" style="display: none;">
                            <div class="file-card">
                                <div class="file-icon">ðŸ“„</div>
                                <div class="file-details">
                                    <h3 id="file-name">document.pdf</h3>
                                    <p>File Type: <span id="file-type">PDF</span></p>
                                    <p>Status: <span id="file-status" class="status">Ready to download</span></p>
                                    <div class="file-actions">
                                        <button id="download-btn" class="btn btn-success">
                                            Download File
                                        </button>
                                        <button id="reset-btn" class="btn btn-secondary">
                                            Scan Another
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="instructions-section">
                    <h2>ðŸ“‹ Instructions</h2>
                    <ol>
                        <li>Click "Start Scanner" to activate your camera</li>
                        <li>Point your camera at a QR code containing a PDF file URL</li>
                        <li>The scanner will automatically detect and display file information</li>
                        <li>Click "Download File" to save the PDF to your device</li>
                        <li>Use "Switch Camera" to toggle between front/back cameras</li>
                        <li>Click "Stop Scanner" when finished</li>
                    </ol>
                    
                    <div class="note">
                        <strong>Note:</strong> Make sure your PDF file is uploaded to the server 
                        and the QR code contains the correct URL to the file.
                    </div>
                </div>

                <!-- Hidden download link -->
                <a id="hidden-download" style="display: none;"></a>
            </div>
        </main>

        <footer>
            <p>QR Code PDF Download System &copy; <span id="current-year"></span></p>
        </footer>
    </div>

    <script src="scanner.js"></script>
</body>
</html>